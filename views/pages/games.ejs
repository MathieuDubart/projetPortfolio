<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/heads/homeHead'); %>
    <%- include('../partials/heads/labHead'); %>
</head>
<body>
    <header>
        <%- include('../partials/layout/header'); %>
    </header>

    <div id="socialMedias">
        <%- include('../partials/socialMedia'); %>
    </div>

    <div class="row d-flex justify-content-center align-items-center">
        <div class="col-xxl-12 d-flex justify-content-start" id="titles"> 
            <h1><%- parsed_setting_desc.menu[1] %></h1>
        </div>
    </div>

    <div class="filter-container">
        <div class="filters button-group js-radio-button-group device-type">
            <button class="button is-checked" id="memory">Memory</button>
            <button class="button" id="morpion">Tic Tac Toe</button>
            <button class="button" id="pong">Pong</button>
            <button class="button" id="clear">clear console</button>
        </div>
    </div>

    <div class="games-content">
        <div class="gameboy-container">
            <img src="https://www.dropbox.com/s/r5gppj57r695clp/SWITCH.svg?raw=1" alt="gameboy" class="gameboy-img">
            <div class="game" id="game"><script id="gameScript" src="https://www.khanacademy.org/computer-programming/spin-off-of-tp-final-algo-nils/6464827390214144/embed.js?editor=no&buttons=no&author=no&embed=yes" ></script></div>
        </div>
    </div>      
    <footer class="container-fluid d-flex justify-content-center align-tems-center footer">
        <%- include('../partials/layout/footer'); %>
    </footer>
</body>
</html>

<script>

    
    let gameScript = document.getElementById('gameScript');
    let memory = document.getElementById('memory');
    let morpion = document.getElementById('morpion');
    let pong = document.getElementById('pong');
    let clear = document.getElementById('clear');
    let game = document.querySelector('.game')
    
    
    let tab = ["https://www.khanacademy.org/computer-programming/spin-off-of-tp-final-algo-nils/6464827390214144/embed.js?editor=no&buttons=no&author=no&embed=yes",
                "https://www.khanacademy.org/computer-programming/tic-tac-toe-nils/4661321081602048/embed.js?editor=no&buttons=no&author=no&embed=yes",
                "https://www.khanacademy.org/computer-programming/spin-off-of-pong-nils/6319792470409216/embed.js?editor=no&buttons=no&author=no&embed=yes"
                ]
    
    clear.addEventListener('click', () => {
        console.clear();
    });
    
    [memory, morpion, pong].forEach(elm => {
        elm.addEventListener("click", () => {
            if(elm.id=="memory") {
                var newScript = document.createElement("script");
                newScript.src = tab[0];
                game.innerHTML = "";
                game.appendChild(newScript);
            } else if (elm.id=="morpion") {
                var newScript = document.createElement("script");
                newScript.src = tab[1];
                game.innerHTML = "";
                game.appendChild(newScript);
            }else{
                var newScript = document.createElement("script");
                newScript.src = tab[2];
                game.innerHTML = "";
                game.appendChild(newScript);
            }
        })
    });
</script>


<style>
    .game{
        width: 400px;
        height: 400px;
        position: absolute;
        top: 20px;
        left: calc(50% - 200px);
        overflow: hidden;

    }

    iframe{
        position: absolute;
        top: 342px;
        left: calc(50% - 200px);
    }

    .game iframe{
        position: absolute;
        top: 0;
        left: 0;
    }

    .games-content {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 64px;
    }

    .gameboy-container {
        width: 900px;
        height: 440px;
        position: relative;
        
    }

    .gameboy-container img {
        width: 100%;
        height: 100%;
    }
    .game-embed{
        position: absolute;
        top: 0;
        left: 0;
    }
    .filter-container{
    margin-bottom: 64px;
    }
    .filters {
        margin-top: 40px;
        display: flex;
        display: -webkit-flex;
        flex-wrap: wrap;
        justify-content: center;
    }
    .filters button {
        padding: 10px 25px;
        margin: 0px 5px;
        background-color: #121212;
        border: none;
        border-radius: 10px;
        transition: 150ms;
        color: #ffffff;
        font-size: 16px;
        line-height: 25px;
        font-weight: 700;
        position: relative;
        outline: none;
        cursor: pointer;
    }
    .filters button.is-checked {
    background-color: whitesmoke;
    border: 1px solid #121212;
    color: #121212;
  }
</style>

<%- include('../partials/artworks/artworksFiltersScript.ejs'); %>
